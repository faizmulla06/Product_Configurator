(this["webpackJsonp3d-product-configurator"]=this["webpackJsonp3d-product-configurator"]||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(11),o=a.n(s),l=a(19),c=a(14),i=a(103),d=a(85),u=a(183),p=a(86);var m=a.n(p)()({palette:{primary:{main:"#b9151b"}}}),b=a(24),j=a(76),h=a(90),v=a(92),f=a(10);const O="GET_PROCUT_LIST",S="GET_CURRENT_PRODUCT_DATA",y="SET_CURRENT_PRODUCT_DATA",x="SET_CURRENT_NODE_DATA",g="SET_SELECTED_MESH_DATA",w="SET_CURRENT_MATERIAL_DATA",M="SELECTED_MESH_MATERIAL",D="CURRENT_DRACO_VERSION",C={currentMaterialData:null,selectedMeshMaterial:null};var E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(f.a)(Object(f.a)({},e),{},{currentMaterialData:t.payload});case M:return Object(f.a)(Object(f.a)({},e),{},{selectedMeshMaterial:t.payload});default:return Object(f.a)({},e)}};const T={selectedMeshData:[]};var P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return t.type===g?Object(f.a)(Object(f.a)({},e),{},{selectedMeshData:[...t.payload]}):Object(f.a)({},e)};const N={currentNodeData:null};var I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;return t.type===x?Object(f.a)(Object(f.a)({},e),{},{currentNodeData:t.payload}):Object(f.a)({},e)};const _=[{id:"model",label:"No compression version"},{id:"dracoModel0",label:"Compression0 version"},{id:"dracoModel1",label:"Compression1 version"},{id:"dracoModel3",label:"Compression3 version"},{id:"dracoModel6",label:"Compression6 version"}],R={productDataList:[],currentProductData:null,productData:null,currentDracoVersion:_[0].id};var k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(f.a)(Object(f.a)({},e),{},{productData:t.payload});case O:return Object(f.a)(Object(f.a)({},e),{},{productDataList:[...t.payload]});case y:return Object(f.a)(Object(f.a)({},e),{},{currentProductData:t.payload});case D:return Object(f.a)(Object(f.a)({},e),{},{currentDracoVersion:t.payload});default:return Object(f.a)({},e)}};var L=Object(b.combineReducers)({productStore:k,nodeStore:I,meshStore:P,materialStore:E}),A=a(91);const W={key:"root",storage:a.n(A).a,whitelist:["root"]},F=Object(j.a)(W,L),z=Object(b.createStore)(F,Object(h.composeWithDevTools)(Object(b.applyMiddleware)(v.a))),q=Object(j.b)(z);var B=a(65),U=a(177),V=a(67),G=a(5),H=a(185),X=a(186),J=a(181),Y=a(174);var K=a(3);const Z=Object(Y.a)((e=>({formControl:{margin:e.spacing(1),minWidth:120}})));var Q=Object(l.b)((e=>({productStore:e.productStore,setCurrentDracoVersion:G.PropTypes.func.isRequired})),{setCurrentDracoVersion:function(e){return t=>{t({type:D,payload:e})}}})((e=>{const t=Z(),{productStore:a,setCurrentDracoVersion:n}=e,r=_.map((e=>Object(K.jsx)("option",{value:e.id,children:e.label},e.id)));return Object(K.jsxs)(H.a,{fullWidth:!0,className:t.formControl,children:[Object(K.jsx)(X.a,{shrink:!0,variant:"outlined",id:"draco-selector",children:"Select a compression version"}),Object(K.jsx)(J.a,{labelId:"draco-selector",native:!0,labelWidth:50,label:"",variant:"outlined",style:{width:300},value:a.currentDracoVersion,onChange:e=>{n(e.target.value)},children:r})]})})),$=a(178),ee=a(179),te=a(182),ae=a(187);function ne(e){return t=>{t({type:M,payload:e})}}const re=Object(Y.a)((e=>({root:{display:"flex","& > *":{margin:e.spacing(1)}}}))),se=Object(Y.a)((e=>({root:{width:60,height:60,border:"3px solid"}})));var oe=Object(l.b)((e=>({materialStore:e.materialStore,meshStore:e.meshStore,nodeStore:e.nodeStore,productStore:e.productStore,setCurrentMaterialData:G.PropTypes.func.isRequired,setSelectedMeshMaterial:G.PropTypes.func.isRequired})),{setCurrentMaterialData:function(e){return t=>{e?fetch(e).then((e=>e.json())).then((e=>{t({type:w,payload:e})})):t({type:w,payload:null})}},setSelectedMeshMaterial:ne})((e=>{var t;const a=re(),r=se(),{materialStore:s,meshStore:o,nodeStore:l,productStore:c,setCurrentMaterialData:i,setSelectedMeshMaterial:d}=e;return Object(n.useEffect)((()=>{i(null)}),[l.currentNodeData]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)($.a,{item:!0,className:a.root,children:l.currentNodeData?Object(K.jsx)(ee.a,{variant:"h4",children:"Choose a material"}):Object(K.jsx)(K.Fragment,{})}),Object(K.jsx)($.a,{item:!0,className:a.root,children:null===(t=l.currentNodeData)||void 0===t?void 0:t.candidateMaterials.map((e=>Object(K.jsx)(te.a,{size:"small",color:s.selectedMeshMaterial===e.name?"primary":"default",onClick:()=>{s.selectedMeshMaterial!==e.name&&(d(e.name),i(e.path))},children:Object(K.jsx)(ae.a,{alt:e.name,title:e.name,src:e.thumbnail,classes:r})},e.name)))})]})}));function le(e){return t=>{t({type:g,payload:e})}}const ce=Object(Y.a)((e=>({formControl:{margin:e.spacing(1),minWidth:120}})));var ie=Object(l.b)((e=>({meshStore:e.meshStore,nodeStore:e.nodeStore,productStore:e.productStore,setSelectedMeshData:G.PropTypes.func.isRequired})),{setSelectedMeshData:le})((e=>{var t;const a=ce(),{meshStore:r,nodeStore:s,productStore:o,setSelectedMeshData:l}=e;let c=null===(t=s.currentNodeData)||void 0===t?void 0:t.candidateMeshes.map((e=>Object(K.jsx)("option",{value:e.id,children:e.label},e.id)));const[i,d]=Object(n.useState)("");return Object(n.useEffect)((()=>{s.currentNodeData&&r.selectedMeshData&&r.selectedMeshData.forEach((e=>{e.nodeId===s.currentNodeData.id&&d(e.meshId)}))}),[s.currentNodeData,r.selectedMeshData]),s.currentNodeData&&Object(K.jsxs)(H.a,{fullWidth:!0,className:a.formControl,children:[Object(K.jsx)(X.a,{shrink:!0,variant:"outlined",id:"mesh-selector",children:"Select a mesh"}),Object(K.jsx)(J.a,{labelId:"mesh-selector",native:!0,labelWidth:50,label:"Select node",variant:"outlined",style:{width:300},value:i,onChange:e=>{if(s.currentNodeData&&r.selectedMeshData){const t=[];r.selectedMeshData.forEach((a=>{a.nodeId===s.currentNodeData.id&&(a.meshId=e.target.value),t.push(a)})),l(t)}},children:c})]})}));function de(e){return t=>{t({type:x,payload:e})}}const ue=Object(Y.a)((e=>({formControl:{margin:e.spacing(1),minWidth:120}})));var pe=Object(l.b)((e=>({nodeStore:e.nodeStore,productStore:e.productStore,setCurrentNodeData:G.PropTypes.func.isRequired})),{setCurrentNodeData:de})((e=>{var t,a,n;const r=ue(),{nodeStore:s,productStore:o,setCurrentNodeData:l}=e;let c=null===(t=o.productData)||void 0===t?void 0:t.nodes.map((e=>Object(K.jsx)("option",{value:e.id,children:e.label},e.id)));return Object(K.jsxs)(H.a,{fullWidth:!0,className:r.formControl,children:[Object(K.jsx)(X.a,{shrink:!0,variant:"outlined",id:"node-selector",children:"Select a node"}),Object(K.jsxs)(J.a,{labelId:"node-selector",native:!0,labelWidth:50,label:"Select node",variant:"outlined",style:{width:300},value:null!==(a=null===(n=s.currentNodeData)||void 0===n?void 0:n.id)&&void 0!==a?a:"none",onChange:e=>{o.productData&&"none"!==e.target.value?l(o.productData.nodes.find((t=>t.id===e.target.value))):l(null)},children:[Object(K.jsx)("option",{value:"none",children:"None"}),c]})]})}));const me=Object(Y.a)((e=>({formControl:{margin:e.spacing(1),minWidth:120}})));var be=Object(l.b)((e=>({productStore:e.productStore,getCurrentProductData:G.PropTypes.func.isRequired,getProductDataList:G.PropTypes.func.isRequired,setCurrentProductData:G.PropTypes.func.isRequired,setCurrentNodeData:G.PropTypes.func.isRequired})),{getCurrentProductData:function(e){return t=>{e?fetch(e).then((e=>e.json())).then((e=>{t({type:S,payload:e})})):t({type:S,payload:null})}},getProductDataList:function(){return e=>{fetch("/products/products.json").then((e=>e.json())).then((t=>{e({type:O,payload:t}),t.length>0&&e({type:y,payload:t[0]})}))}},setCurrentProductData:function(e){return t=>{t({type:y,payload:e})}},setCurrentNodeData:de})((e=>{var t,a;const r=me(),{productStore:s,getCurrentProductData:o,getProductDataList:l,setCurrentProductData:c,setCurrentNodeData:i}=e,d=s.productDataList.map((e=>Object(K.jsx)("option",{value:e.id,children:e.label},e.id)));return Object(n.useEffect)((()=>{s.currentProductData?o(s.currentProductData.path):o(null),i(null)}),[s.currentProductData]),Object(n.useEffect)((()=>{l()}),[]),Object(K.jsxs)(H.a,{fullWidth:!0,className:r.formControl,children:[Object(K.jsx)(X.a,{shrink:!0,variant:"outlined",id:"product-selector",children:"Select product"}),Object(K.jsxs)(J.a,{labelId:"product-selector",native:!0,labelWidth:50,label:"Select product",variant:"outlined",style:{width:300},value:null!==(t=null===(a=s.currentProductData)||void 0===a?void 0:a.id)&&void 0!==t?t:"",onChange:e=>{c(s.productDataList.find((t=>t.id===e.target.value)))},children:[Object(K.jsx)("option",{value:"",children:"None"}),d]})]})})),je=a(94),he=a.n(je),ve=a(0),fe=a(12),Oe=a(99),Se=a(97),ye=a(98),xe=a(104),ge=a(96),we=a(66),Me=a.n(we);var De=()=>Object(K.jsx)("div",{className:Me.a.loader,children:Object(K.jsx)("svg",{className:Me.a.spinner,viewBox:"0 0 50 50",children:Object(K.jsx)("circle",{className:Me.a.path,cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})})}),Ce=a(95),Ee=a.n(Ce),Te=a.p+"static/media/shader.d622c730.frag",Pe=a.p+"static/media/shader.00bfe510.vert";class Ne extends ve.Nb{constructor(){super({type:"CopyMaterial",uniforms:{inputBuffer:new ve.ac(null),opacity:new ve.ac(1)},fragmentShader:Te,vertexShader:Pe,blending:ve.ob,depthWrite:!1,depthTest:!1}),this.toneMapped=!1}}var Ie=function(e,t,a,n,r){const s=new fe.f(e,{frameBufferType:ve.D}),o=new fe.m(t,a);s.addPass(o);const l=new fe.t({eskil:!1,offset:.1,darkness:.5}),c=new fe.c({contrast:.05,brightness:0}),i=new fe.h({gamma:1.6}),d=new fe.n(n,r,fe.p.HIGH,fe.e.COLOR);d.edgeDetectionMaterial.setEdgeDetectionThreshold(.05),d.edgeDetectionMaterial.setPredicationMode(fe.l.DEPTH),d.edgeDetectionMaterial.setPredicationThreshold(.002),d.edgeDetectionMaterial.setPredicationScale(1);const u=new fe.s({blendFunction:fe.a.SKIP,texture:d.renderTargetEdges.texture}),p=new fe.s({blendFunction:fe.a.SKIP,texture:d.renderTargetWeights.texture}),m=new fe.b({blendFunction:fe.a.SCREEN,kernelSize:fe.j.MEDIUM,luminanceThreshold:.3,luminanceSmoothing:.83,height:1024,intensity:.5,resolutionScale:.5}),b=new fe.i({hue:0,saturation:.191}),j=new fe.k(t,a),h=new fe.d({normalBuffer:j.texture,resolutionScale:.5}),v=e.capabilities.isWebGL2?h.texture:null,f=new fe.q(a,j.texture,{blendFunction:fe.a.MULTIPLY,distanceScaling:!0,depthAwareUpsampling:!0,normalDepthBuffer:v,samples:9,rings:7,distanceThreshold:.02,distanceFalloff:.0025,rangeThreshold:3e-4,rangeFalloff:1e-4,luminanceInfluence:.7,minRadiusScale:.33,radius:.1,intensity:1.33,bias:.025,fade:.01,color:null,resolutionScale:1}),O=new fe.r(new Ne),S=new fe.g(a,m,d,u,p,f,l,c,i,b);return s.addPass(j),e.capabilities.isWebGL2?s.addPass(h):console.log("WebGL 2 not supported, falling back to naive depth downsampling"),O.enabled=!1,O.renderToScreen=!0,S.renderToScreen=!0,s.addPass(O),s.addPass(S),s};const _e=10;var Re=function(){const e=new ve.C;e.name="LightGroup";const t=new ve.E("#bfe5f9","#ddbba0",1.5);e.add(t);const a=new ve.t(16777215,1.5);a.position.set(.5,_e,1),a.target.position.set(0,0,0),a.castShadow=!0,a.shadow.mapSize.width=1024,a.shadow.mapSize.height=1024,a.shadow.camera.near=.01,a.shadow.camera.far=20,e.add(a);const n=new ve.Tb(13827264,1);return n.position.set(-10,_e,-10),n.target.position.set(0,0,0),n.penumbra=.1,n.decay=2,n.distance=20,e.add(n),e};let ke,Le,Ae,We,Fe,ze,qe,Be,Ue,Ve,Ge=!1;var He=Object(l.b)((e=>({materialStore:e.materialStore,meshStore:e.meshStore,nodeStore:e.nodeStore,productStore:e.productStore,setSelectedMeshData:G.PropTypes.func.isRequired,setSelectedMeshMaterial:G.PropTypes.func.isRequired,setCurrentNodeData:G.PropTypes.func.isRequired})),{setSelectedMeshData:le,setSelectedMeshMaterial:ne,setCurrentNodeData:de})((function(e){const{materialStore:t,meshStore:a,nodeStore:r,productStore:s,setSelectedMeshData:o,setSelectedMeshMaterial:l,setCurrentNodeData:c}=e,i=Object(n.useRef)(null),[d,u]=Object(n.useState)(!0);function p(e,t){if(e&&t){if(e.material.name=t.name,""===t.color?e.material.color.set(null):e.material.color.set(t.color),""===t.map)e.material.map=null;else{const a=Ue.load(t.map);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.map=a}if(""===t.normalMap)e.material.normalMap=null;else{const a=Ue.load(t.normalMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.normalMap=a,e.material.normalScale=new ve.ec(t.normalScale.x,t.normalScale.y)}if(""===t.bumpMap)e.material.bumpMap=null;else{const a=Ue.load(t.bumpMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.bumpMap=a,e.material.bumpScale=t.bumpScale}if(""===t.displacementMap)e.material.displacementMap=null;else{const a=Ue.load(t.displacementMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.displacementMap=a,e.material.displacementScale=t.displacementScale,e.material.displacementBias=t.displacementBias}if(""===t.roughnessMap)e.material.roughnessMap=null;else{const a=Ue.load(t.roughnessMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.roughnessMap=a}if(e.material.roughness=t.roughness,""!==t.metalnessMap)e.material.metalnessMap=null;else{const a=Ue.load(t.metalnessMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.metalnessMap=a}if(e.material.metalness=t.metalness,""===t.alphaMap)e.material.alphaMap=null;else{const a=Ue.load(t.alphaMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.alphaMap=a}if(e.material.opacity=t.opacity,""===t.aoMap)e.material.aoMap=null;else{const a=Ue.load(t.aoMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.aoMap=a,e.material.aoMapIntensity=t.aoMapIntensity}if(""===t.emissiveMap)e.material.emissiveMap=null;else{const a=Ue.load(t.emissiveMap);t.uvScale&&(a.repeat.set(t.uvScale.u,t.uvScale.v),a.wrapS=a.wrapT=ve.jb),e.material.emissiveMap=a,e.material.emissiveIntensity=t.emissiveIntensity}e.material.emissive.set(t.emissive),e.material.envMapIntensity=t.envMapIntensity,e.material.wireframe=t.wireframe,e.material.transparent=t.transparent,e.material.needsUpdate=!0,e.children.forEach((t=>{t.material=e.material}))}}return Object(n.useEffect)((()=>{let e=i.current.offsetWidth,t=i.current.offsetHeight,a=!1,n=null,r=null;const s=new ve.l;let o=null;ke=new ve.rb,ke.name="ModelRoot";const l=new ve.Jb,c=[],p=new ve.Mb;p.background=new ve.m("#aeaeae"),Le=p,p.add(ke);const m=Re();p.add(m);const b=function(){const e=new ve.vb(_e,_e);e.rotateX(-Math.PI/2);const t=new ve.Ob;t.opacity=.3;const a=new ve.db(e,t);return a.name="GroundMesh",a.position.y=0,a.receiveShadow=!0,a}();p.add(b);const j=new ve.ub(30,e/t,.01,1e3);function h(){a=!1,function(){const a=f.domElement.offsetWidth,n=f.domElement.offsetHeight;(a!==e||n!==t)&&(e=a,t=n,j.aspect=e/t,j.updateProjectionMatrix(),f.setSize(e,t),o.setSize(e,t),v())}(),O.update(),f.render(p,j),o&&o.render(s.getDelta())}function v(){a||(a=!0,requestAnimationFrame(h))}j.position.set(-2,_e,_e),j.lookAt(0,0,0),Ae=j,ze=v;const f=new ve.kc({powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1});f.setSize(e,t,!1),f.setPixelRatio(window.devicePixelRatio||1),f.shadowMap.enabled=!0,f.shadowMap.type=ve.tb,Fe=f,i.current.appendChild(f.domElement),f.domElement.addEventListener("mousedown",(function(e){})),f.domElement.addEventListener("mouseup",(function(a){const n=new ve.ec(a.offsetX/e*2-1,-a.offsetY/t*2+1);l.setFromCamera(n,j),l.intersectObjects(c).length})),f.domElement.addEventListener("mousemove",(function(a){const n=new ve.ec(a.offsetX/e*2-1,-a.offsetY/t*2+1);l.setFromCamera(n,j),l.intersectObjects(c).length>0?document.body.style.cursor="pointer":document.body.style.cursor="default"})),f.domElement.addEventListener("touchstart",(function(e){})),f.domElement.addEventListener("touchend",(function(a){const n=new ve.ec(a.changedTouches[0].pageX/e*2-1,-a.changedTouches[0].pageY/t*2+1);l.setFromCamera(n,j),l.intersectObjects(c).length})),f.domElement.addEventListener("touchmove",(function(){}));const O=new ge.a(j,f.domElement);O.minAzimuthAngle=-180,O.maxAzimuthAngle=180,O.dampingFactor=.05,O.screenSpacePanning=!0,O.minPolarAngle=1,O.maxPolarAngle=Math.PI/1.5,O.enableDamping=!0,O.enableZoom=!0,O.enablePan=!1,We=O;const S=new ve.X;S.onStart=(e,t,a)=>{u(!0)},S.onProgress=(e,t,a)=>{d||u(!0)},S.onLoad=()=>{Ge&&(j.position.set(-2,_e,_e),j.lookAt(0,0,0),function(e,t,a,n){a=a||1.25;const r=new ve.f;r.setFromObject(t);const s=new ve.fc;r.getCenter(s);const o=new ve.fc;r.getSize(o);const l=Math.max(o.x,o.y,o.z);var c=Math.abs(l/4);c*=a,e.position.z=c;const i=r.min.z,d=i<0?-i+c:c-i;e.far=3*d,e.updateProjectionMatrix(),n?(n.target=s,n.maxDistance=2*d):e.lookAt(s)}(j,ke,6,O),Ge=!1),v(),setTimeout((()=>{u(!1)}),1200)};const y=new Se.a(S);Be=y;const x=new ye.a;x.setDecoderPath("/draco/"),y.setDRACOLoader(x);const g=new ve.Xb(S);Ue=g;return new fe.o(S).load((e=>{let[t,a]=e;n=t,r=a,o=Ie(f,p,j,n,r)})),Ve=new Oe.a(S),f.render(p,j),O.addEventListener("change",v),window.addEventListener("resize",v),()=>{O.removeEventListener("change",v),window.removeEventListener("resize",v),i.current&&(i.current.innerHTML="")}}),[]),Object(n.useEffect)((()=>{c(null),s.productData&&Ve.setDataType(ve.bc).load(s.productData.envMap,(e=>{const t=new xe.a(Fe);t.compileEquirectangularShader();const a=t.fromEquirectangular(e).texture;Le.environment=a,e.dispose(),t.dispose()})),ke.children.forEach((e=>{e.children.forEach((t=>{t.geometry.dispose(),t.material.dispose(),e.remove(t)})),ke.remove(e)})),ke.children=[],s.productData&&(Ge=!0,Be.load(s.productData[s.currentDracoVersion],(e=>{if(e.scene){const t=[];e.scene.traverse((e=>{"Mesh"===e.type&&(e.castShadow=!0,t.push(e))})),s.productData.nodes.forEach((e=>{const a=new ve.rb;a.name=e.id,e.candidateMeshes.forEach((n=>{const r=t.find((e=>e.name===n.id));r&&(r.visible=r.name===e.defaultMesh,a.add(r))})),ke.add(a)}));const a=[];s.productData.nodes.forEach((e=>{a.push({nodeId:e.id,meshId:e.defaultMesh})})),o(a),ke.children.forEach((e=>{var t;const a=new ve.ib({color:"#363636"});a.envMap=Le.environment,e.material=a;const n=null===(t=s.productData.nodes.find((t=>t.id===e.name)))||void 0===t?void 0:t.defaultMaterial;(async function(e){const t=await fetch(e);return await t.json()})(null===n||void 0===n?void 0:n.path).then((t=>{p(e,t)}))}))}}))),ze()}),[s.productData,s.currentDracoVersion]),Object(n.useEffect)((()=>{var e;qe&&(qe=null,l(null)),null===(e=ke)||void 0===e||e.traverse((e=>{var t;"Object3D"===e.type&&e.name===(null===(t=r.currentNodeData)||void 0===t?void 0:t.id)&&(qe=e,l(e.material.name))})),ze()}),[r.currentNodeData]),Object(n.useEffect)((()=>{if(qe&&a.selectedMeshData){const e=a.selectedMeshData.find((e=>e.nodeId===qe.name));e&&qe.children.forEach((t=>{t.visible=t.name===e.meshId}))}ze()}),[a.selectedMeshData]),Object(n.useEffect)((()=>{p(qe,t.currentMaterialData)}),[t.currentMaterialData]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(he.a,{if:d,children:Object(K.jsx)(De,{})}),Object(K.jsx)("div",{className:Ee.a.canvasContainer,ref:i})]})})),Xe=a(184),Je=a(180),Ye=a(188);let Ke;var Ze,Qe,$e,et=()=>{var e,t,a,r,s,o,c,i,d,u,p;const{currentMaterialData:m}=Object(l.d)((e=>e.materialStore)),b=Object(l.c)(),[j,h]=Object(n.useState)(1),[v,O]=Object(n.useState)(1),[S,y]=Object(n.useState)({});Object(n.useEffect)((()=>{if(m){var e,t;if((null===m||void 0===m||null===(e=m.uvScale)||void 0===e?void 0:e.u)!==j)h(null===m||void 0===m||null===(t=m.uvScale)||void 0===t?void 0:t.u);m.normalScale.x!==v&&O(m.normalScale.x),y(Object(f.a)({},m))}}),[m]);const x=(e,t)=>{M(Object(f.a)(Object(f.a)({},m),{},{[e.target.dataset.key]:t}))},g=e=>{x(e,e.target.value)},M=e=>{cancelAnimationFrame(Ke),Ke=requestAnimationFrame((()=>{b({type:w,payload:e})}))};if(!m)return null;let D=.001;return(null===S||void 0===S?void 0:S.bumpScale)>.01&&(D=.01),(null===S||void 0===S?void 0:S.bumpScale)>.5&&(D=.1),Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(U.a,{children:Object(K.jsxs)(Xe.a,{p:2,children:[Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Textures Scale"}),Object(K.jsx)("input",{value:j,type:"number",min:0,max:20,step:.1,onChange:e=>{h(e.target.value),M(Object(f.a)(Object(f.a)({},m),{},{uvScale:{u:e.target.value,v:e.target.value}}))},style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Normal Map Scale"}),Object(K.jsx)("input",{value:v,disabled:""===(null===S||void 0===S?void 0:S.normalMap),type:"number","data-key":"displacementScale",min:0,max:20,step:.01,onChange:e=>{O(e.target.value),M(Object(f.a)(Object(f.a)({},m),{},{normalScale:{x:e.target.value,y:e.target.value}}))},style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Bump map Scale"}),Object(K.jsx)("input",{value:null!==(e=null===S||void 0===S?void 0:S.bumpScale)&&void 0!==e?e:0,disabled:""===m.bumpMap,type:"number","data-key":"bumpScale",min:0,max:2,step:D,onChange:g,style:{width:50}})]}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Metalness"}),Object(K.jsx)("input",{value:null!==(t=null===S||void 0===S?void 0:S.metalness)&&void 0!==t?t:0,type:"number","data-key":"metalness",min:0,max:1,step:.01,onChange:g,style:{width:50}})]}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Roughness"}),Object(K.jsx)("input",{value:null!==(a=null===S||void 0===S?void 0:S.roughness)&&void 0!==a?a:0,type:"number","data-key":"roughness",min:0,max:1,step:.01,onChange:g,style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Displacement Scale"}),Object(K.jsx)("input",{value:null!==(r=null===S||void 0===S?void 0:S.displacementScale)&&void 0!==r?r:0,disabled:""===(null===S||void 0===S?void 0:S.displacementMap),type:"number","data-key":"displacementScale",min:0,max:1,step:.01,onChange:g,style:{width:50}})]}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Displacement Bias"}),Object(K.jsx)("input",{value:null!==(s=null===S||void 0===S?void 0:S.displacementBias)&&void 0!==s?s:0,disabled:""===(null===S||void 0===S?void 0:S.displacementMap),type:"number","data-key":"displacementBias",min:0,max:1,step:.01,onChange:g,style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"EnvMap Intensity"}),Object(K.jsx)("input",{value:null!==(o=null===S||void 0===S?void 0:S.envMapIntensity)&&void 0!==o?o:0,type:"number","data-key":"envMapIntensity",min:0,max:1,step:.1,onChange:g,style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Ambient occlusion intensity \xa0"}),Object(K.jsx)("input",{value:null!==(c=null===S||void 0===S?void 0:S.aoMapIntensity)&&void 0!==c?c:0,type:"number","data-key":"aoMapIntensity",min:0,max:1,step:.1,onChange:g,style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Color"}),Object(K.jsx)("input",{value:null!==(i=null===S||void 0===S?void 0:S.color)&&void 0!==i?i:0,type:"color","data-key":"color",min:0,max:1,step:.1,onChange:g,style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Emissive Intensity"}),Object(K.jsx)("input",{value:null!==(d=null===S||void 0===S?void 0:S.emissiveIntensity)&&void 0!==d?d:0,type:"number","data-key":"emissiveIntensity",min:0,max:1,step:.1,onChange:g,style:{width:50}})]}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Emissive color"}),Object(K.jsx)("input",{value:null!==(u=null===S||void 0===S?void 0:S.emissive)&&void 0!==u?u:0,type:"color","data-key":"emissive",min:0,max:1,step:.1,onChange:g,style:{width:50}})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,alignItems:"center",children:[Object(K.jsx)(ee.a,{children:"Wireframe"}),Object(K.jsx)(Ye.a,{inputProps:{"data-key":"wireframe"},checked:!(null===S||void 0===S||!S.wireframe),onChange:x,color:"primary"})]}),Object(K.jsx)(Je.a,{}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,alignItems:"center",children:[Object(K.jsx)(ee.a,{children:"Transparent"}),Object(K.jsx)(Ye.a,{inputProps:{"data-key":"transparent"},checked:!(null===S||void 0===S||!S.transparent),onChange:x,color:"primary"})]}),Object(K.jsxs)(Xe.a,{display:"flex",mt:1,mb:1,justifyContent:"space-between",children:[Object(K.jsx)(ee.a,{children:"Opacity"}),Object(K.jsx)("input",{value:null!==(p=null===S||void 0===S?void 0:S.opacity)&&void 0!==p?p:0,disabled:!(null!==S&&void 0!==S&&S.transparent),type:"number","data-key":"opacity",min:0,max:1,step:.05,onChange:g,style:{width:50}})]})]})})})};function tt(){return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(at,{children:[Object(K.jsx)(Q,{}),Object(K.jsx)(be,{}),Object(K.jsx)(pe,{}),Object(K.jsx)(ie,{})]}),Object(K.jsx)(nt,{children:Object(K.jsx)(et,{})}),Object(K.jsx)(rt,{children:Object(K.jsx)(oe,{})}),Object(K.jsx)(He,{})]})}const at=Object(V.a)(U.a)(Ze||(Ze=Object(B.a)(["\n    padding: 0.5em;\n    position: absolute;\n    top: 1em;\n    left: 1em;\n    z-index: 1;\n    width: min-content;\n"]))),nt=V.a.div(Qe||(Qe=Object(B.a)(["\n  padding: 1em;\n    position: absolute;\n    top: 1em;\n    right: 2em;\n    z-index: 1;\n"]))),rt=V.a.div($e||($e=Object(B.a)(["\n    padding: 0.5em;\n    position: absolute;\n    bottom: 1em;\n    left: 1em;\n    z-index: 1;\n"])));var st=()=>Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(l.a,{store:z,children:Object(K.jsx)(d.a,{loading:null,persistor:q,children:Object(K.jsx)(u.a,{theme:m,children:Object(K.jsx)(i.a,{children:Object(K.jsx)(c.c,{children:Object(K.jsx)(c.a,{exact:!0,path:"/",component:tt})})})})})})});a(146);o.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(st,{})}),document.getElementById("root-app"))},66:function(e,t,a){e.exports={loader:"Loader_loader__1j2Bs",spinner:"Loader_spinner__1oBcK",rotate:"Loader_rotate__2CUi0",path:"Loader_path__1uan3",dash:"Loader_dash__1rUgj"}},95:function(e,t,a){e.exports={canvasContainer:"Viewer3D_canvasContainer__3Jkt_"}}},[[147,1,2]]]);
//# sourceMappingURL=main.0588c921.chunk.js.map